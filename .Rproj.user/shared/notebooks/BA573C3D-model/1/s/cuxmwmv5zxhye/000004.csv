"0",""
"0","library(haven)"
"0","library(klaR)"
"2","Loading required package: MASS
"
"2","
Attaching package: ‘MASS’

"
"2","The following object is masked from ‘package:dplyr’:

    select

"
"0","#Infant gender model construction"
"0",""
"0","ibq <- ibq_impute"
"0",""
"0","ibq$group <- as.factor(ibq$group)"
"0","ibq$group <- revalue(ibq$group, c(""0""=""experimental"", ""1""=""control_one"", ""2""=""control_two""))"
"0",""
"0","ibq <- ibq[ibq$group != ""control_two"",]"
"0","ibq$group <- factor(ibq$group)"
"0","ibq$group <- relevel(ibq$group, ""control_one"")"
"0",""
"0","#ibq <- subset(ibq, AgeGrp == ""three"")"
"0",""
"0","# ibq$infantgender <- as.factor(ibq$infantgender)"
"0","# levels(ibq$infantgender) <- c('male', 'female')"
"0",""
"0","set.seed(103)"
"0","inTraining <- createDataPartition(ibq$group, p = .7, list = FALSE)"
"0","training <- ibq[ inTraining,]"
"0","testing  <- ibq[-inTraining,]"
"0",""
"0","fmla <- as.formula(paste(""group ~ "", paste(colnames(ibq[c(8:44)]), collapse= ""+"")))"
"0","predictors <- colnames(ibq[c(8:44)])"
"0",""
"0","train_control<- trainControl(method=""repeatedcv"", savePredictions = ""final"", classProbs = T, returnResamp='all')"
"0",""
"0","cl <- makePSOCKcluster(10)"
"0","registerDoParallel(cl)"
"0",""
"0","fit_rf_control_one_all <- caret::train(fmla, data=training, method=""rf"", trControl = train_control, importance = TRUE)"
"0","fit_lda_control_one_all <- caret::train(fmla, data=training, method=""lda"", trControl = train_control)"
"0","fit_glm_control_one_all <- caret::train(fmla, data=training, method=""glm"", trControl = train_control)"
"0","fit_knn_control_one_all <- caret::train(fmla, data=training, method=""knn"",trControl = train_control)"
"0","fit_nb_control_one_all <- caret::train(fmla, data=training, method=""nb"", trControl = train_control)"
"0","fit_svm_control_one_all <- caret::train(fmla, data=training, method=""svmRadial"", trControl = train_control)"
"0","fit_cart_control_one_all <- caret::train(fmla, data=training, method=""rpart"", trControl = train_control)"
"0","fit_c50_control_one_all <- caret::train(fmla, data=training, method=""C5.0"", trControl = train_control)"
"0","fit_treebag_control_one_all <- caret::train(fmla, data=training, method=""treebag"", trControl = train_control)"
"0","fit_gbm_control_one_all <- caret::train(fmla, data=training, method=""gbm"", trControl = train_control, verbose = FALSE)"
"0","fit_adabag_control_one_all <- caret::train(fmla, data=training, method=""AdaBag"", trControl = train_control)"
"0",""
"0","## When you are done:"
"0","stopCluster(cl)"
"0",""
"0",""
"0","#infant gender model results"
"0",""
"0","results <- resamples(list(lda=fit_lda_control_one_all, glm=fit_glm_control_one_all, svm=fit_svm_control_one_all, knn=fit_knn_control_one_all, nb=fit_nb_control_one_all, cart=fit_cart_control_one_all, c50=fit_c50_control_one_all,treebag=fit_treebag_control_one_all, rf=fit_rf_control_one_all, gbm=fit_gbm_control_one_all, adabag=fit_adabag_control_one_all))"
"0","# Table comparison"
"0","#summary(results)"
"0",""
"0","# boxplot comparison"
"0","bwplot(results, main = ""Model Accuracy Estimates: Control Group One VS. Experimental Group - All Variables"")"
